
services:
  web:
    build: .
    ports:
      - "8080:8080"   # Expose port 3000 for your dev server
    volumes:
      - .:/app         # Mount the current directory to the container for live changes
      - /app/node_modules  # Prevent re-installing node_modules on each container restart
    environment:
      NODE_ENV: development
      VITE_SUPABASE_URL: "http://localhost:8000"          # or whatever KONG_HTTP_PORT is mapped to
      VITE_SUPABASE_ANON_KEY: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE"
    command: npm run dev
    restart: unless-stopped
    # Uncomment to use for logging purposes (optional)
    # logging:
    #   driver: "json-file"
    #   options:
    #     max-size: "10m"
    #     max-file: "3"
